{"ast":null,"code":"import { COMMENT_CREATE, COMMENT_LOAD, COMMENT_DELETE } from './types';\nconst initialState = {\n  comments: []\n};\nexport const commentsReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n  console.log('comm  reducer>', action);\n\n  switch (action.type) {\n    case COMMENT_CREATE:\n      console.log(state);\n      return { ...state,\n        comments: [...state.comments, action.data]\n      };\n\n    case COMMENT_LOAD:\n      const commentNew = action.data.map(comm => {\n        return {\n          text: comm.name,\n          id: comm.id\n        };\n      });\n      return { ...state,\n        comments: commentNew\n      };\n\n    case COMMENT_DELETE:\n      const abc = state.comments;\n      var removeIndex = abc.map(item => item.id).indexOf(action.id);\n      ~removeIndex && abc.splice(removeIndex, 1);\n      console.log(abc, 'new abc');\n      console.log(removeIndex, 'new removeIndex');\n      return { ...state,\n        comments: removeIndex\n      };\n\n    default:\n      return state;\n  }\n};","map":{"version":3,"names":["COMMENT_CREATE","COMMENT_LOAD","COMMENT_DELETE","initialState","comments","commentsReducer","state","action","console","log","type","data","commentNew","map","comm","text","name","id","abc","removeIndex","item","indexOf","splice"],"sources":["C:/Users/Alex/Desktop/Skypro/Курс 5/sky-react-book-cart-hw15-main/src/redux/commentsReducer.js"],"sourcesContent":["import { COMMENT_CREATE, COMMENT_LOAD, COMMENT_DELETE } from './types'\r\n\r\nconst initialState = {\r\n  comments: [],\r\n}\r\n\r\nexport const commentsReducer = (state = initialState, action) => {\r\n  console.log('comm  reducer>', action)\r\n\r\n  switch (action.type) {\r\n    case COMMENT_CREATE:\r\n      console.log(state)\r\n      return {\r\n        ...state,\r\n        comments: [...state.comments, action.data],\r\n      }\r\n\r\n    case COMMENT_LOAD:\r\n      const commentNew = action.data.map((comm) => {\r\n        return {\r\n          text: comm.name,\r\n          id: comm.id,\r\n        }\r\n      })\r\n      return {\r\n        ...state,\r\n        comments: commentNew,\r\n      }\r\n    case COMMENT_DELETE:\r\n      const abc = state.comments\r\n      var removeIndex = abc.map((item) => item.id).indexOf(action.id)\r\n      ~removeIndex && abc.splice(removeIndex, 1)\r\n      console.log(abc, 'new abc')\r\n      console.log(removeIndex, 'new removeIndex')\r\n      return {\r\n        ...state,\r\n        comments: removeIndex,\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n"],"mappings":"AAAA,SAASA,cAAT,EAAyBC,YAAzB,EAAuCC,cAAvC,QAA6D,SAA7D;AAEA,MAAMC,YAAY,GAAG;EACnBC,QAAQ,EAAE;AADS,CAArB;AAIA,OAAO,MAAMC,eAAe,GAAG,YAAkC;EAAA,IAAjCC,KAAiC,uEAAzBH,YAAyB;EAAA,IAAXI,MAAW;EAC/DC,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAA8BF,MAA9B;;EAEA,QAAQA,MAAM,CAACG,IAAf;IACE,KAAKV,cAAL;MACEQ,OAAO,CAACC,GAAR,CAAYH,KAAZ;MACA,OAAO,EACL,GAAGA,KADE;QAELF,QAAQ,EAAE,CAAC,GAAGE,KAAK,CAACF,QAAV,EAAoBG,MAAM,CAACI,IAA3B;MAFL,CAAP;;IAKF,KAAKV,YAAL;MACE,MAAMW,UAAU,GAAGL,MAAM,CAACI,IAAP,CAAYE,GAAZ,CAAiBC,IAAD,IAAU;QAC3C,OAAO;UACLC,IAAI,EAAED,IAAI,CAACE,IADN;UAELC,EAAE,EAAEH,IAAI,CAACG;QAFJ,CAAP;MAID,CALkB,CAAnB;MAMA,OAAO,EACL,GAAGX,KADE;QAELF,QAAQ,EAAEQ;MAFL,CAAP;;IAIF,KAAKV,cAAL;MACE,MAAMgB,GAAG,GAAGZ,KAAK,CAACF,QAAlB;MACA,IAAIe,WAAW,GAAGD,GAAG,CAACL,GAAJ,CAASO,IAAD,IAAUA,IAAI,CAACH,EAAvB,EAA2BI,OAA3B,CAAmCd,MAAM,CAACU,EAA1C,CAAlB;MACA,CAACE,WAAD,IAAgBD,GAAG,CAACI,MAAJ,CAAWH,WAAX,EAAwB,CAAxB,CAAhB;MACAX,OAAO,CAACC,GAAR,CAAYS,GAAZ,EAAiB,SAAjB;MACAV,OAAO,CAACC,GAAR,CAAYU,WAAZ,EAAyB,iBAAzB;MACA,OAAO,EACL,GAAGb,KADE;QAELF,QAAQ,EAAEe;MAFL,CAAP;;IAIF;MACE,OAAOb,KAAP;EA9BJ;AAgCD,CAnCM"},"metadata":{},"sourceType":"module"}